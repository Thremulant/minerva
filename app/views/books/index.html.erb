<div class='row h-100'>
  <div class='col-sm-3 bg-light  py-4'>
    <div class='mb-5'>
      <h4>Search</h4>
      <%= search_form_for @q do |f|  %>
        <h6>Name</h6>
        <div class="input-group mb-3">
          <%= f.search_field :title_cont, class:'form-control' %>
        </div>
        <h6>Genre</h6>
        <div class="input-group mb-3">
          <%= f.collection_select :genre_id_eq, Genre.all, :id, :name, {include_blank: true}, {class:"form-select"} %>
        </div>
        <h6>Author</h6>
        <div class="input-group mb-3">
          <%= f.collection_select :author_id_eq, Author.all, :id, :name, {include_blank: true}, {class:"form-select"} %>
        </div>
        <div class="input-group mb-3 d-flex justify-content-center">
          <%= link_to "Clear", request.path, class:"btn btn-secondary" %>
          <%= f.submit "Search",  class: 'btn btn-info' %>
        </div>
      <% end %>
    </div>
    <div class='mb-5'>
      <h4>Categories</h4>
      <% @genres.each do |genre|%>
        <div class="input-group mb-3">
          <%= link_to genre.name, genre_path(genre.id)%>
        </div>
      <%end%>
    </div>
  </div>
  <div class='col-sm-9  py-4'>
    <div class='row d-flex flex-row justify-content-center align-items-center km-custom-nav'>
      <%= paginate @search%>
    </div>
    <div class="row row-cols-5 g-4 py-4 mb-4">
      <% @search.each do |book| %>
        <%= render partial: "partials/book", locals: {book: book}   %>
      <%end%>
    </div>
    <div class='row d-flex flex-row justify-content-center align-items-center km-custom-nav'>
      <%= paginate @search%>
    </div>
  </div>
</div>
